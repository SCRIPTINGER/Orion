-- RELKIN Library Module
local RELKINLibrary = {}

-- Создание основного интерфейса
local MakeDraggable = loadstring(game:HttpGet('https://raw.githubusercontent.com/SCRIPTINGER/SKWER-library/refs/heads/main/SD'))()

-- Предположим, у вас есть меню с `Main` и `TopBar`:
local Main = script.Parent:WaitForChild("Main") -- Основной фрейм
local TopBar = Main:WaitForChild("TopBar") -- Верхняя панель для перетаскивания

-- Активируем перетаскивание
MakeDraggable(Main, TopBar)

function RELKINLibrary.CreateLibrary(playerGui)
    local RELKINlibrary = Instance.new("ScreenGui")
    RELKINlibrary.Name = "RELKIN Library"
    RELKINlibrary.ResetOnSpawn = false
    RELKINlibrary.Parent = playerGui or game.Players.LocalPlayer:WaitForChild("PlayerGui")

    -- Main Frame
    local Main = Instance.new("Frame")
    Main.Name = "Main"
    Main.Parent = RELKINlibrary
    Main.BackgroundColor3 = Color3.fromRGB(67, 67, 67)
    Main.Position = UDim2.new(0.3, 0, 0.2, 0)
    Main.Size = UDim2.new(0.4, 0, 0.6, 0)

    local UICorner = Instance.new("UICorner", Main)

    -- Navigation Frame
    local Navgations = Instance.new("ScrollingFrame")
    Navgations.Name = "Navgations"
    Navgations.Parent = Main
    Navgations.BackgroundColor3 = Color3.fromRGB(95, 95, 95)
    Navgations.Size = UDim2.new(0.25, 0, 1, 0)
    Navgations.CanvasSize = UDim2.new(0, 0, 5, 0)
    Navgations.ScrollBarThickness = 5

    local UICornerNav = Instance.new("UICorner", Navgations)

    -- Controls Container
    local ControlsContainer = Instance.new("Frame")
    ControlsContainer.Name = "ControlsContainer"
    ControlsContainer.Parent = Main
    ControlsContainer.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    ControlsContainer.Position = UDim2.new(0.26, 0, 0, 0)
    ControlsContainer.Size = UDim2.new(0.74, 0, 1, 0)

    local UICornerControls = Instance.new("UICorner", ControlsContainer)

    -- Таблица для управления вкладками
    RELKINlibrary.Tabs = {}
    RELKINlibrary.CurrentTab = nil
    RELKINlibrary.Navgations = Navgations
    RELKINlibrary.ControlsContainer = ControlsContainer

    return RELKINlibrary
end

-- Функция создания вкладки
function RELKINLibrary.CreateTab(library, tabName)
    -- Проверяем существование вкладки с таким же именем
    if library.Tabs[tabName] then
        warn("Tab with name '" .. tabName .. "' already exists!")
        return
    end

    -- Создание кнопки вкладки
    local tabButton = Instance.new("TextButton")
    tabButton.Name = "Tab_" .. tabName
    tabButton.Parent = library.Navgations
    tabButton.BackgroundColor3 = Color3.fromRGB(108, 108, 108)
    tabButton.Size = UDim2.new(0.9, 0, 0, 50)
    tabButton.Position = UDim2.new(0.05, 0, (#library.Navgations:GetChildren() - 1) * 0.12, 0)
    tabButton.Text = tabName
    tabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    tabButton.TextScaled = true

    local UICorner = Instance.new("UICorner", tabButton)

    -- Создание фрейма для содержимого вкладки
    local tabFrame = Instance.new("Frame")
    tabFrame.Name = "TabFrame_" .. tabName
    tabFrame.Parent = library.ControlsContainer
    tabFrame.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    tabFrame.Size = UDim2.new(1, 0, 1, 0)
    tabFrame.Visible = false

    local UICornerFrame = Instance.new("UICorner", tabFrame)

    -- Добавление функциональности для переключения вкладок
    tabButton.MouseButton1Click:Connect(function()
        if library.CurrentTab then
            library.CurrentTab.Visible = false
        end
        library.CurrentTab = tabFrame
        tabFrame.Visible = true
    end)

    -- Добавление новой вкладки в таблицу
    library.Tabs[tabName] = tabFrame

    -- Автоматическое переключение на первую вкладку
    if not library.CurrentTab then
        library.CurrentTab = tabFrame
        tabFrame.Visible = true
    end

    return tabFrame
end

-- Функция создания кнопки
function RELKINLibrary.CreateButton(tabFrame, buttonName, buttonText, onClickCallback)
    -- Создаем кнопку
    local button = Instance.new("TextButton")
    button.Name = "Button_" .. buttonName
    button.Parent = tabFrame
    button.BackgroundColor3 = Color3.fromRGB(48, 48, 48)
    button.Size = UDim2.new(0.8, 0, 0.1, 0) -- Размер кнопки
    button.Position = UDim2.new(0.1, 0, (#tabFrame:GetChildren() - 1) * 0.12, 0) -- Динамическое размещение
    button.Text = buttonText
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextScaled = true

    local UICorner = Instance.new("UICorner", button)

    -- Подключение функции обратного вызова при нажатии
    button.MouseButton1Click:Connect(function()
        if onClickCallback then
            onClickCallback()
        end
    end)

    return button
end

return RELKINLibrary
