-- RELKIN Library Module
local RELKINLibrary = {}

-- Создание основного интерфейса
function RELKINLibrary.CreateLibrary(playerGui)
    local RELKINlibrary = Instance.new("ScreenGui")
    RELKINlibrary.Name = "RELKIN Library"
    RELKINlibrary.ResetOnSpawn = false
    RELKINlibrary.Parent = playerGui or game.Players.LocalPlayer:WaitForChild("PlayerGui")

    -- Main Frame
    local Main = Instance.new("Frame")
    Main.Name = "Main"
    Main.Parent = RELKINlibrary
    Main.BackgroundColor3 = Color3.fromRGB(67, 67, 67)
    Main.Position = UDim2.new(0.373, 0, 0.302, 0)
    Main.Size = UDim2.new(0.32, 0, 0.8, 0)

    local UICorner = Instance.new("UICorner", Main)

    -- PlaceHolder Frame
    local PlaceHolder = Instance.new("Frame")
    PlaceHolder.Name = "Place Holder"
    PlaceHolder.Parent = Main
    PlaceHolder.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    PlaceHolder.Position = UDim2.new(0, 0, 0.1, 0)
    PlaceHolder.Size = UDim2.new(1, 0, 0.9, 0)

    Instance.new("UICorner", PlaceHolder)

    -- Navigation Frame
    local Navgations = Instance.new("ScrollingFrame")
    Navgations.Name = "Navgations"
    Navgations.Parent = PlaceHolder
    Navgations.BackgroundColor3 = Color3.fromRGB(95, 95, 95)
    Navgations.Size = UDim2.new(0.258, 0, 1, 0)
    Navgations.CanvasSize = UDim2.new(0, 0, 5, 0)

    Instance.new("UICorner", Navgations)

    -- Controls Container
    local ControlsContainer = Instance.new("Frame")
    ControlsContainer.Name = "ControlsContainer"
    ControlsContainer.Parent = PlaceHolder
    ControlsContainer.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    ControlsContainer.Size = UDim2.new(0.75, 0, 1, 0)
    ControlsContainer.Position = UDim2.new(0.26, 0, 0, 0)

    Instance.new("UICorner", ControlsContainer)

    -- Таблица для управления вкладками
    RELKINlibrary.Tabs = {}
    RELKINlibrary.CurrentTab = nil
    RELKINlibrary.Navgations = Navgations
    RELKINlibrary.ControlsContainer = ControlsContainer

    return RELKINlibrary
end

-- Функция создания вкладки
function RELKINLibrary.CreateTab(library, tabName)
    local tabButton = Instance.new("TextButton")
    tabButton.Name = "Tab_" .. tabName
    tabButton.Parent = library.Navgations
    tabButton.BackgroundColor3 = Color3.fromRGB(108, 108, 108)
    tabButton.Size = UDim2.new(0, 95, 0, 30)
    tabButton.Text = tabName
    tabButton.TextColor3 = Color3.fromRGB(0, 0, 0)
    tabButton.TextScaled = true

    Instance.new("UICorner", tabButton)

    -- Создание фрейма для содержимого вкладки
    local tabFrame = Instance.new("Frame")
    tabFrame.Name = "TabFrame_" .. tabName
    tabFrame.Parent = library.ControlsContainer
    tabFrame.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    tabFrame.Size = UDim2.new(1, 0, 1, 0)
    tabFrame.Visible = false

    Instance.new("UICorner", tabFrame)

    -- Добавление функциональности для переключения
    tabButton.MouseButton1Click:Connect(function()
        if library.CurrentTab then
            library.CurrentTab.Visible = false
        end
        library.CurrentTab = tabFrame
        tabFrame.Visible = true
    end)

    -- Добавление новой вкладки в таблицу
    library.Tabs[tabName] = tabFrame

    -- Автоматическое переключение на вкладку, если она первая
    if not library.CurrentTab then
        library.CurrentTab = tabFrame
        tabFrame.Visible = true
    end

    return tabFrame
end

-- Функция создания кнопки
function RELKINLibrary.CreateButton(tabFrame, buttonName, buttonText, onClickCallback)
    local button = Instance.new("TextButton")
    button.Name = "Button_" .. buttonName
    button.Parent = tabFrame
    button.BackgroundColor3 = Color3.fromRGB(48, 48, 48)
    button.Size = UDim2.new(0.8, 0, 0.1, 0) -- Размер кнопки
    button.Position = UDim2.new(0.1, 0, (#tabFrame:GetChildren() - 1) * 0.12, 0) -- Динамическое размещение кнопок
    button.Text = buttonText
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextScaled = true

    Instance.new("UICorner", button)

    -- Подключение функции обратного вызова при нажатии
    button.MouseButton1Click:Connect(function()
        if onClickCallback then
            onClickCallback()
        end
    end)

    return button
end

return RELKINLibrary
