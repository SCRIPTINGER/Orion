-- RELKIN Library
local RELKINLibrary = {}
RELKINLibrary.__index = RELKINLibrary

-- Initialize the GUI
function RELKINLibrary.new()
    local self = setmetatable({}, RELKINLibrary)

    -- Create instances and properties
    self.GUI = Instance.new("ScreenGui")
    self.Main = Instance.new("Frame")
    self.Navgations = Instance.new("ScrollingFrame")
    self.Tab1 = Instance.new("TextButton")
    self.Tab2 = Instance.new("TextButton")
    self.TopBar = Instance.new("Frame")
    self.Close = Instance.new("ImageButton")
    self.NameLabel = Instance.new("TextLabel")
    self.Controls = Instance.new("Frame")

    self:setupGUI()
    
    return self
end

-- Setup the GUI elements
function RELKINLibrary:setupGUI()
    self.GUI.Name = "RELKIN library"
    self.GUI.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    self.GUI.ResetOnSpawn = false

    self.Main.Name = "Main"
    self.Main.Parent = self.GUI
    self.Main.BackgroundColor3 = Color3.fromRGB(67, 67, 67)
    self.Main.Size = UDim2.new(0.32, 0, 0.8, 0)
    self.Main.Position = UDim2.new(0.37, 0, 0.30, 0)

    self.Navgations.Name = "Navgations"
    self.Navgations.Parent = self.Main
    self.Navgations.Active = true
    self.Navgations.BackgroundColor3 = Color3.fromRGB(95, 95, 95)
    self.Navgations.Size = UDim2.new(0.25, 0, 0.9, 0)

    self.Tab1.Name = "Tab 1"
    self.Tab1.Parent = self.Navgations
    self.Tab1.Text = "Home"
    self.Tab1.Size = UDim2.new(0, 150, 0, 30)

    self.Tab2.Name = "Tab 2"
    self.Tab2.Parent = self.Navgations
    self.Tab2.Text = "Settings"
    self.Tab2.Position = UDim2.new(0, 0, 0.065, 0)
    self.Tab2.Size = UDim2.new(0, 150, 0, 30)

    self.TopBar.Name = "TopBar"
    self.TopBar.Parent = self.Main
    self.TopBar.BackgroundColor3 = Color3.fromRGB(94, 94, 94)
    self.TopBar.Size = UDim2.new(1, 0, 0.1, 0)

    self.Close.Name = "Close"
    self.Close.Parent = self.TopBar
    self.Close.Image = "rbxassetid://10747384394"
    self.Close.Size = UDim2.new(0.07, 0, 0.8, 0)
    self.Close.Position = UDim2.new(0.93, 0, 0.1, 0)

    self.NameLabel.Name = "Name"
    self.NameLabel.Parent = self.TopBar
    self.NameLabel.Text = "RELKIN"
    self.NameLabel.Size = UDim2.new(0.6, 0, 1, 0)
    self.NameLabel.Position = UDim2.new(0.17, 0, 0, 0)

    self.Controls.Name = "Controls"
    self.Controls.Parent = self.Main
    self.Controls.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    self.Controls.Position = UDim2.new(0.26, 0, 0.096, 0)
    self.Controls.Size = UDim2.new(0.74, 0, 0.9, 0)

    -- Connect events
    self:connectEvents()
end

-- Connect the button events
function RELKINLibrary:connectEvents()
    self.Close.MouseButton1Click:Connect(function()
        self.GUI.Enabled = false
    end)

    self:initializeDrag(self.Main)
end
-- Function for draggable UI
function RELKINLibrary:initializeDrag(frame)
    local player = game.Players.LocalPlayer
    local mouse = player:GetMouse()
    local dragging = false
    local dragStart = nil
    local startPos = nil
    
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            if dragging then
                local newPosition = UDim2.new(startPos.X.Scale, startPos.X.Offset + (mouse.X - dragStart.X), startPos.Y.Scale, startPos.Y.Offset + (mouse.Y - dragStart.Y))
                frame.Position = newPosition
            end
        end
    end)
end
