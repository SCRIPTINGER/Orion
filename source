-- RELKINLibrary.lua
local RELKINLibrary = {}
RELKINLibrary.__index = RELKINLibrary

-- Создание нового экземпляра библиотеки
function RELKINLibrary.new(name)
    local self = setmetatable({}, RELKINLibrary)

    -- Создаем GUI
    self.ScreenGui = Instance.new("ScreenGui")
    self.Frame = Instance.new("Frame")
    self.Hub = Instance.new("Frame")
    self.UICorner = Instance.new("UICorner")
    self.UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
    self.Tabs = Instance.new("ScrollingFrame")
    self.UICorner_2 = Instance.new("UICorner")
    self.NameLabel = Instance.new("TextLabel")
    self.UICorner_3 = Instance.new("UICorner")

    -- Настройки GUI
    self.ScreenGui.Name = "RELKIN library"
    self.ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    self.ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    self.ScreenGui.ResetOnSpawn = false

    self.Frame.Name = "GUI"
    self.Frame.Parent = self.ScreenGui
    self.Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    self.Frame.BackgroundTransparency = 1.000
    self.Frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
    self.Frame.BorderSizePixel = 0
    self.Frame.Position = UDim2.new(0, 625, 0, 162)
    self.Frame.Size = UDim2.new(0.372, 0, 0.646, 0)

    self.Hub.Name = "hub"
    self.Hub.Parent = self.Frame
    self.Hub.BackgroundColor3 = Color3.fromRGB(67, 67, 67)
    self.Hub.BorderColor3 = Color3.fromRGB(0, 0, 0)
    self.Hub.BorderSizePixel = 0
    self.Hub.Position = UDim2.new(-0.001, 0, 0, 0)
    self.Hub.Size = UDim2.new(0, 694, 0, 520)
    self.Hub.ZIndex = 0

    self.UICorner.Parent = self.Hub

    self.UIAspectRatioConstraint.Parent = self.Hub
    self.UIAspectRatioConstraint.AspectRatio = 1.339

    self.Tabs.Name = "Tabs"
    self.Tabs.Parent = self.Hub
    self.Tabs.Active = true
    self.Tabs.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    self.Tabs.BorderColor3 = Color3.fromRGB(0, 0, 0)
    self.Tabs.BorderSizePixel = 0
    self.Tabs.Position = UDim2.new(-0.001, 0, 0.094, 0)
    self.Tabs.Size = UDim2.new(0, 131, 0, 469)
    self.Tabs.CanvasSize = UDim2.new(0, 0, 5, 0)
    self.Tabs.HorizontalScrollBarInset = Enum.ScrollBarInset.Always
    self.Tabs.ScrollBarThickness = 10
    self.Tabs.VerticalScrollBarInset = Enum.ScrollBarInset.ScrollBar
    self.Tabs.VerticalScrollBarPosition = Enum.VerticalScrollBarPosition.Left

    self.UICorner_2.Parent = self.Tabs

    self.NameLabel.Name = "Name"
    self.NameLabel.Parent = self.Hub
    self.NameLabel.BackgroundColor3 = Color3.fromRGB(94, 94, 94)
    self.NameLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
    self.NameLabel.BorderSizePixel = 0
    self.NameLabel.Position = UDim2.new(-0.001, 0, -0.001, 0)
    self.NameLabel.Size = UDim2.new(0, 694, 0, 50)
    self.NameLabel.ZIndex = 2
    self.NameLabel.Font = Enum.Font.Unknown
    self.NameLabel.Text = name or "RELKIN"
    self.NameLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
    self.NameLabel.TextSize = 48.000
    self.NameLabel.TextWrapped = true
    self.NameLabel.TextXAlignment = Enum.TextXAlignment.Left

    self.UICorner_3.Parent = self.NameLabel

    -- Добавляем возможность перетаскивания
    self:makeDraggable(self.Hub)

    return self
end

-- Функция для перетаскивания GUI
function RELKINLibrary:makeDraggable(frame)
    local player = game.Players.LocalPlayer
    local mouse = player:GetMouse()
    local dragging = false
    local dragStart = nil
    local startPos = nil

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    game:GetService("RunService").RenderStepped:Connect(function()
        if dragging then
            local deltaX = mouse.X - dragStart.X
            local deltaY = mouse.Y - dragStart.Y
            frame.Position = UDim2.new(
                startPos.X.Scale, startPos.X.Offset + deltaX,
                startPos.Y.Scale, startPos.Y.Offset + deltaY
            )
        end
    end)
end

return RELKINLibrary
