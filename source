-- RELKINLibrary.lua
local RELKINLibrary = {}
RELKINLibrary.__index = RELKINLibrary

-- Создание GUI
function RELKINLibrary.new()
    local self = setmetatable({}, RELKINLibrary)

    self.screenGui = Instance.new("ScreenGui")
    self.gui = Instance.new("Frame")
    self.hub = Instance.new("Frame")
    self.uICorner = Instance.new("UICorner")
    self.tabs = Instance.new("ScrollingFrame")
    self.nameLabel = Instance.new("TextLabel")
    
    -- Настройка ScreenGui
    self.screenGui.Name = "RELKIN library"
    self.screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    self.screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    self.screenGui.ResetOnSpawn = false

    -- Настройка главного GUI Frame
    self.gui.Name = "GUI"
    self.gui.Parent = self.screenGui
    self.gui.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    self.gui.BackgroundTransparency = 1
    self.gui.Position = UDim2.new(0.334582448, 0, 0.259028643, 0)
    self.gui.Size = UDim2.new(0.370985001, 0, 0.833599985, 0)

    -- Настройка хаба
    self.hub.Name = "hub"
    self.hub.Parent = self.gui
    self.hub.BackgroundColor3 = Color3.fromRGB(67, 67, 67)
    self.hub.Size = UDim2.new(1, 0, 1, 0)
    
    self.uICorner.Parent = self.hub

    -- Настройка вкладок
    self.tabs.Name = "Tabs"
    self.tabs.Parent = self.hub
    self.tabs.Active = true
    self.tabs.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    self.tabs.Position = UDim2.new(0, 0, 0.0942307711, 0)
    self.tabs.Size = UDim2.new(0.188760802, 0, 0.904963017, 0)
    self.tabs.CanvasSize = UDim2.new(0, 0, 5, 0)
    self.tabs.ScrollBarThickness = 10

    -- Настройка названия
    self.nameLabel.Name = "Name"
    self.nameLabel.Parent = self.hub
    self.nameLabel.BackgroundColor3 = Color3.fromRGB(94, 94, 94)
    self.nameLabel.Size = UDim2.new(1, 0, 0.0964779332, 0)
    self.nameLabel.Font = Enum.Font.Unknown
    self.nameLabel.Text = "RELKIN"
    self.nameLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
    self.nameLabel.TextScaled = true

    -- Добавление функции перетаскивания
    self:makeDraggable(self.hub)

    return self
end

-- Функция для перетаскивания
function RELKINLibrary:makeDraggable(frame)
    local player = game.Players.LocalPlayer
    local mouse = player:GetMouse()
    local dragging = false
    local dragStart = nil
    local startPos = nil

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    game:GetService("RunService").RenderStepped:Connect(function()
        if dragging then
            local deltaX = mouse.X - dragStart.X
            local deltaY = mouse.Y - dragStart.Y
            frame.Position = UDim2.new(
                startPos.X.Scale, startPos.X.Offset + deltaX,
                startPos.Y.Scale, startPos.Y.Offset + deltaY
            )
        end
    end)
end

return RELKINLibrary
